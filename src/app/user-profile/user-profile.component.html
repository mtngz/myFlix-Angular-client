<app-navbar></app-navbar>
<div class="profile-page">
  <h2 id="profile-page-header">Your Profile</h2>
  <div id="fave-movies-container">
    <h3 id="fave-movies-header">Favorite Movies</h3>
    <div *ngIf="this.favoriteMovies.length === 0">
      <p>No Favs yet!</p>
    </div>
    <div class="movie-card-container">
      <mat-card *ngFor="let movie of favoriteMovies; let i = index" id="movie-card">
        <mat-card-header class="card-header">
          <mat-card-title>{{ movie.Title }}</mat-card-title>
        </mat-card-header>
        <img src="{{ movie.ImagePath }}" alt="{{ movie.Title }}" />
        <mat-card-actions class="card-actions">
          <button (click)="deleteFavoriteMovie(movie._id)" class="card-delete-btn">
            Remove from Favorites
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
  <div id="update-container">
    <h3 id="update-header">Update Profile</h3>
    <mat-card id="update">
      <mat-card-content id="update-card-content">
        <form>
          <mat-form-field>
            <mat-hint>Must be at least 5 characters</mat-hint>
            <input
              matInput
              [(ngModel)]="userData.Username"
              placeholder="Username"
              type="text"
              name="Username"
              required
            />
          </mat-form-field>
          <mat-form-field>
            <mat-hint>Must be alphanumeric and at least 5 characters</mat-hint>
            <input
              matInput
              [(ngModel)]="userData.Password"
              type="password"
              placeholder="Password"
              name="Password"
              required
            />
          </mat-form-field>
          <mat-form-field>
            <input
              matInput
              [(ngModel)]="userData.Email"
              type="email"
              placeholder="Email"
              name="Email"
              required
            />
          </mat-form-field>
          <mat-form-field>
            <input
              matInput
              [(ngModel)]="userData.Birthday"
              type="date"
              placeholder="Birthday"
              name="Birthday"
            />
          </mat-form-field>
        </form>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button (click)="editUserInfo()" color="basic">
          Update
        </button>
        <button mat-button (click)="openDeleteUserDialog()" color="warn">
          DELETE Profile
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
